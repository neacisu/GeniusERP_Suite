# ============================================
# CERNIQ - BUSINESS INTELLIGENCE & DATA MESH
# ============================================
# Cerniq-specific configuration
# Local overrides: cerniq.app/.env.local (gitignored)
# Production: cerniq.app/.env.production (gitignored)

# ===== APPLICATION IDENTITY =====
PORT=3101
SERVICE_NAME=cerniq
SERVICE_VERSION=1.0.0

# ===== DATA WAREHOUSE =====
CERNIQ_DW_TYPE=postgres # postgres | snowflake | bigquery | redshift | databricks
CERNIQ_DW_HOST=localhost
CERNIQ_DW_PORT=5432
CERNIQ_DW_USER=cerniq_user
CERNIQ_DW_PASSWORD=change-me-in-production
CERNIQ_DW_DATABASE=cerniq_warehouse
CERNIQ_DW_SSL_ENABLED=false
CERNIQ_DW_POOL_SIZE=20

# Snowflake Configuration (if CERNIQ_DW_TYPE=snowflake)
CERNIQ_SNOWFLAKE_ACCOUNT=
CERNIQ_SNOWFLAKE_USER=
CERNIQ_SNOWFLAKE_PASSWORD=
CERNIQ_SNOWFLAKE_WAREHOUSE=
CERNIQ_SNOWFLAKE_DATABASE=

# BigQuery Configuration (if CERNIQ_DW_TYPE=bigquery)
CERNIQ_BIGQUERY_PROJECT_ID=
CERNIQ_BIGQUERY_DATASET=
CERNIQ_BIGQUERY_SERVICE_ACCOUNT_JSON=

# ===== DATA MESH =====
CERNIQ_MESH_ENABLED=true
CERNIQ_MESH_TYPE=apache-atlas # apache-atlas | collibra | custom
CERNIQ_MESH_REGISTRY_URL=http://localhost:8080/api
CERNIQ_MESH_USERNAME=
CERNIQ_MESH_PASSWORD=

# ===== DATA CATALOG & GOVERNANCE =====
CERNIQ_CATALOG_ENABLED=true
CERNIQ_CATALOG_ENGINE=elasticsearch # elasticsearch | solr | custom
CERNIQ_CATALOG_INDEX=data-catalog
CERNIQ_LINEAGE_ENABLED=true
CERNIQ_LINEAGE_DEPTH=5
CERNIQ_QUALITY_CHECKS_ENABLED=true

# ===== DATA PRODUCTS =====
CERNIQ_DATA_PRODUCT_SCHEMA_REGISTRY=http://localhost:8081
CERNIQ_DATA_PRODUCT_VERSIONING_ENABLED=true
CERNIQ_DATA_PRODUCT_SLO_MONITORING=true

# ===== ETL / DATA PIPELINE =====
CERNIQ_ETL_ENGINE=airflow # airflow | dbt | custom
CERNIQ_ETL_SCHEDULER_URL=http://localhost:8080
CERNIQ_ETL_PARALLELISM=4
CERNIQ_ETL_TIMEOUT=3600000 # 1 hour in ms

# DBT Integration (if CERNIQ_ETL_ENGINE=dbt)
CERNIQ_DBT_PROJECT_PATH=/opt/cerniq/dbt-projects
CERNIQ_DBT_PROFILES_DIR=/opt/cerniq/dbt-profiles
CERNIQ_DBT_THREADS=4

# ===== ANALYTICS & REPORTING =====
CERNIQ_REPORT_ENGINE=superset # superset | tableau | powerbi | looker | metabase
CERNIQ_REPORT_API_URL=http://localhost:8088
CERNIQ_REPORT_API_KEY=change-me-in-production

# Tableau Configuration (if CERNIQ_REPORT_ENGINE=tableau)
CERNIQ_TABLEAU_SERVER_URL=
CERNIQ_TABLEAU_USERNAME=
CERNIQ_TABLEAU_PASSWORD=

# PowerBI Configuration (if CERNIQ_REPORT_ENGINE=powerbi)
CERNIQ_POWERBI_TENANT_ID=
CERNIQ_POWERBI_CLIENT_ID=
CERNIQ_POWERBI_CLIENT_SECRET=

# ===== DATA QUALITY =====
CERNIQ_DATA_QUALITY_FRAMEWORK=great-expectations # great-expectations | soda | custom
CERNIQ_DQ_CHECK_FREQUENCY=daily # hourly | daily | weekly
CERNIQ_DQ_ALERT_ON_FAILURE=true

# ===== DATA GOVERNANCE & COMPLIANCE =====
CERNIQ_GDPR_COMPLIANCE_ENABLED=true
CERNIQ_PII_DETECTION_ENABLED=true
CERNIQ_PII_MASKING_ENABLED=true
CERNIQ_DATA_RETENTION_POLICY_ENABLED=true
CERNIQ_DATA_RETENTION_DAYS=2555 # 7 years

# ===== INTEGRATIONS WITH OTHER APPS =====
CERNIQ_ENABLE_SUITE_INTEGRATION=true
SUITE_SHELL_URL=http://localhost:3001
SUITE_LOGIN_URL=http://localhost:3003

# Archify Integration (for document-based reporting)
CERNIQ_ENABLE_ARCHIFY_INTEGRATION=false
ARCHIFY_API_URL=http://localhost:3100

# GeniusERP Integration (for ERP data)
CERNIQ_ENABLE_GENIUSERP_INTEGRATION=true
GENIUSERP_API_URL=http://localhost:8000

# Flowxify Integration (for workflow triggers based on data)
CERNIQ_ENABLE_FLOWXIFY_INTEGRATION=false
FLOWXIFY_API_URL=http://localhost:3102

# ===== PERFORMANCE & CACHING =====
CERNIQ_QUERY_CACHE_ENABLED=true
CERNIQ_QUERY_CACHE_TTL=3600
CERNIQ_MATERIALIZED_VIEW_ENABLED=true
CERNIQ_MV_REFRESH_FREQUENCY=daily

# ===== MONITORING & OBSERVABILITY =====
CERNIQ_QUERY_PROFILING_ENABLED=true
CERNIQ_SLOW_QUERY_THRESHOLD=5000 # ms
CERNIQ_SLOW_QUERY_LOGGING=true
