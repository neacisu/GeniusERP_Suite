# Cerniq Application Configuration
# Copy this file to .cerniq.env and fill in the values
# NOTE: This file contains NON-SECRET configuration only
# SECRETS (DB passwords, JWT secrets, API keys) are injected via OpenBao Agent

# ============================================================================
# Container Configuration
# ============================================================================
CERNIQ_CONTAINER_NAME=genius-suite-cerniq-app
CERNIQ_RESTART_POLICY=unless-stopped

# ============================================================================
# Application Ports
# ============================================================================
CERNIQ_APP_PORT=6800
CERNIQ_APP_METRICS_PORT=6890
CERNIQ_APP_WORKER_PORT=6801
CERNIQ_APP_CONSUMER_PORT=6802

# ============================================================================
# Application Environment
# ============================================================================
CERNIQ_APP_NODE_ENV=production
CERNIQ_LOG_LEVEL=info
CERNIQ_OTEL_SERVICE_NAME=cerniq.app

# ============================================================================
# OpenBao Agent Configuration
# ============================================================================
CERNIQ_BAO_AGENT_CONFIG=/openbao/agent-config.hcl
CERNIQ_APPROLE_ROLE_ID_PATH=../../.secrets/approle/cerniq/role-id
CERNIQ_APPROLE_SECRET_ID_PATH=../../.secrets/approle/cerniq/secret-id

# ============================================================================
# Traefik Configuration
# ============================================================================
CERNIQ_TRAEFIK_ENABLE=true
CERNIQ_TRAEFIK_HOST=cerniq.${SUITE_APP_DOMAIN:-geniuserp.app}
CERNIQ_TRAEFIK_ENTRYPOINT=websecure
CERNIQ_TRAEFIK_TLS=true
CERNIQ_TRAEFIK_CERTRESOLVER=letsencrypt
CERNIQ_TRAEFIK_MIDDLEWARES=global-chain@file

# ============================================================================
# Health Check Configuration
# ============================================================================
CERNIQ_HEALTHCHECK_INTERVAL=30s
CERNIQ_HEALTHCHECK_TIMEOUT=10s
CERNIQ_HEALTHCHECK_RETRIES=3
CERNIQ_HEALTHCHECK_START_PERIOD=60s

# ============================================================================
# SECRETS - DO NOT DEFINE HERE!
# ============================================================================
# The following secrets are injected via OpenBao Agent:
# - CERNIQ_DB_USER (dynamic from database/creds/cerniq_runtime)
# - CERNIQ_DB_PASS (dynamic from database/creds/cerniq_runtime)
# - CERNIQ_JWT_SECRET (static from kv/data/apps/cerniq)
# - CERNIQ_API_KEY (static from kv/data/apps/cerniq)
# - CERNIQ_ENCRYPTION_KEY (static from kv/data/apps/cerniq)
#
# These are rendered by OpenBao Agent into /app/secrets/.env
# DO NOT add them to this file!
