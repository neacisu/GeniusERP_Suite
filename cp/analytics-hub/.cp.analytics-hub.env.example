#######################################################
# CONTROL PLANE: ANALYTICS-HUB (CP_ANLY)
# Sursă: Tabelul 5 - Interval 6350-6399
#######################################################

# -- CONFIGURARE APLICAȚIE --
# Portul intern al API-ului Analytics Hub
CP_ANLY_APP_PORT=6350
CP_ANLY_APP_METRICS_PORT=6351
CP_ANLY_APP_NODE_ENV=production

# -- AUTENTIFICARE --
CP_ANLY_AUTH_IDENTITY_URL=http://identity:6250

# -- ANALYTICS CONFIGURATION --
# ClickHouse pentru analytics (dacă este cazul)
CP_ANLY_DB_CLICKHOUSE_URL=http://clickhouse:8123
CP_ANLY_DB_CLICKHOUSE_USER=default

# Apache Kafka pentru data ingestion
CP_ANLY_MQ_KAFKA_BROKERS=kafka:9092
CP_ANLY_MQ_KAFKA_GROUP_ID=analytics-hub-group

# Elasticsearch pentru search și analytics
CP_ANLY_DB_ELASTICSEARCH_URL=http://elasticsearch:9200
CP_ANLY_DB_ELASTICSEARCH_USER=elastic

# Redis pentru caching analytics
CP_ANLY_DB_REDIS_URL=redis://redis:6379

# -- API PROVIDERS --
# Integrările cu Mixpanel/GA/Hotjar folosesc secrete injectate via OpenBao

# -- OBSERVABILITATE --
CP_ANLY_OBS_OTEL_ENDPOINT=${SUITE_OBS_OTEL_COLLECTOR_GRPC_URL}
CP_ANLY_OBS_SERVICE_NAME=analytics-hub
CP_ANLY_OBS_METRICS_PORT=6351

# -- PROCESS SUPERVISOR / OPENBAO --
CP_ANLY_BAO_AGENT_CONFIG=/openbao/agent-config.hcl
CP_ANLY_APPROLE_ROLE_ID_PATH=../../../.secrets/approle/cp-analytics-hub/role-id
CP_ANLY_APPROLE_SECRET_ID_PATH=../../../.secrets/approle/cp-analytics-hub/secret-id

# -- SECRETE (INJECTATE VIA OPENBAO) --
# Nu defini aici următoarele variabile sensibile. Sunt randate de OpenBao în /app/secrets/.env:
# - CP_ANLY_DB_POSTGRES_URL (din database/creds/cp_analytics_runtime)
# - CP_ANLY_AUTH_JWT_SECRET (din kv/data/cp/analytics-hub)
# - CP_ANLY_DB_CLICKHOUSE_PASS (din kv/data/cp/analytics-hub)
# - CP_ANLY_DB_ELASTICSEARCH_PASS (din kv/data/cp/analytics-hub)
# - CP_ANLY_API_MIXPANEL_KEY (din kv/data/cp/analytics-hub)
# - CP_ANLY_API_GOOGLE_ANALYTICS_KEY (din kv/data/cp/analytics-hub)
# - CP_ANLY_API_HOTJAR_KEY (din kv/data/cp/analytics-hub)