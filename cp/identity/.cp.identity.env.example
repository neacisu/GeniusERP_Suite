#######################################################
# CONTROL PLANE: IDENTITY (CP_IDT)
# Sursă: Tabelul 5 - Interval 6250-6299
#######################################################

# -- CONFIGURARE APLICAȚIE --
# Portul intern al API-ului OIDC/Fastify
CP_IDT_APP_PORT=6250
CP_IDT_APP_METRICS_PORT=6251
CP_IDT_APP_NODE_ENV=production

# -- AUTENTIFICARE (CONFIG PUBLIC) --
CP_IDT_AUTH_SUPERTOKENS_CONNECTION_URI=http://supertokens-core:3567
CP_IDT_AUTH_OIDC_ISSUER_URL=https://identity.geniuserp.app
CP_IDT_AUTH_OIDC_CLIENT_ID=genius_suite_client
CP_IDT_AUTH_OIDC_REDIRECT_URIS=https://geniuserp.app/auth/callback,https://app.geniuserp.app/auth/callback
CP_IDT_AUTH_OIDC_LOGOUT_REDIRECT_URIS=https://geniuserp.app,https://app.geniuserp.app

# -- OBSERVABILITATE --
CP_IDT_OBS_OTEL_ENDPOINT=${SUITE_OBS_OTEL_COLLECTOR_GRPC_URL}
CP_IDT_OBS_SERVICE_NAME=identity
CP_IDT_OBS_METRICS_PORT=6251

# -- PROCESS SUPERVISOR / OPENBAO --
CP_IDT_BAO_AGENT_CONFIG=/openbao/agent-config.hcl
CP_IDT_APPROLE_ROLE_ID_PATH=../../../.secrets/approle/cp-identity/role-id
CP_IDT_APPROLE_SECRET_ID_PATH=../../../.secrets/approle/cp-identity/secret-id

# -- SECRETE (INJECTATE VIA OPENBAO) --
# Nu defini aici următoarele variabile sensibile. Sunt randate de OpenBao în /app/secrets/.env:
# - CP_IDT_DB_POSTGRES_URL (din database/creds/cp_identity_runtime)
# - CP_IDT_AUTH_SUPERTOKENS_API_KEY (din kv/data/cp/identity)
# - CP_IDT_AUTH_JWT_SECRET (din kv/data/cp/identity)
# - CP_IDT_AUTH_OIDC_CLIENT_SECRET (din kv/data/cp/identity)